---
title: Modificando Save Data
author: attilathedud
date: 2023-12-25
category: Game Resources
layout: post
---

# Alvo

Nosso alvo é o **Flare 1.12**.

# Identificar

Vamos localizar onde o Flare armazena os dados de save e modificar os atributos do personagem (stats e XP) para ganhar níveis extras.

# Entender

Para persistir entre reinicializações, o save precisa ser gravado no sistema de arquivos. Jogos usam APIs como `CreateFile` para isso. Monitoramos essas API calls de duas formas: **Process Monitor** ou **breakpoint no debugger**.

# Método 1: Process Monitor

O **Process Monitor** da Microsoft monitora em tempo real todos os acessos a arquivos, registro e rede. Baixe em: [Sysinternals](https://docs.microsoft.com/en-us/sysinternals/downloads/procmon).

1. Abra o Flare e inicie uma partida
2. Abra o `ProcMon.exe`
3. Filtre por processo: `Filter → Filter → Process Name is flare.exe`

![Filtro do Process Monitor](/assets/images/8/2/procmon3.png)

4. No Flare, pressione `ESC → Save & Exit`
5. O Process Monitor exibe os eventos de escrita:

![Eventos de Save](/assets/images/8/2/procmon5.png)

Os arquivos na pasta `saves` saltam à vista:
- `avatar.txt` — dados do personagem
- `stash_HC.txt` — dados do inventário

Abrindo `avatar.txt`, encontramos todos os atributos legíveis:

![avatar.txt](/assets/images/8/2/procmon7.png)

Modificando os valores de `build` e reabrindo o jogo, as mudanças são aplicadas imediatamente! ✅

# Método 2: Breakpoint no Debugger

Como alternativa, podemos descobrir o arquivo via x64dbg:

1. Anexe o x64dbg ao Flare
2. Vá para a aba `Symbols`
3. Selecione o módulo **kernelbase.dll** (onde `CreateFile` realmente reside na prática, apesar de documentado em kernel32.dll)
4. Busque `CreateFileA` e sete um breakpoint na primeira instrução

![CreateFile Breakpoint](/assets/images/8/2/x64dbg1.png)

5. Salve o jogo no Flare
6. O breakpoint dispara — na visualização da pilha (stack view), o caminho completo do arquivo aparece no topo:

![Caminho na Pilha](/assets/images/8/2/x64dbg2.png)

Ambos os métodos revelam o mesmo caminho. O método com Process Monitor é mais rápido, mas o breakpoint é útil quando o jogo usa compressão ou obfusca os caminhos.

&nbsp;

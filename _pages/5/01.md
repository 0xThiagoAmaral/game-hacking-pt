---
title: Fundamentos 3D
author: attilathedud
date: 2023-12-25
category: FPS
layout: post
---

# Visão Geral

Nas aulas anteriores, focamos em hackear jogos 2D. Muitas das técnicas que aprendemos podem ser aplicadas a qualquer jogo, mas há técnicas exclusivas para jogos 3D. Para criar wallhacks e aimbots em jogos 3D, precisamos entender como eles funcionam.

# Coordenadas 2D

Num jogo 2D, cada objeto pode ser localizado por um par de coordenadas: **X** (posição horizontal) e **Y** (posição vertical). Exemplo com o Wesnoth: imaginando `(0,0)` no canto inferior esquerdo e `(10,10)` no canto superior direito, uma unidade poderia estar em `(7,5)` e outra em `(3,1)`:

![Coordenadas 2D](/assets/images/5/1/wesnoth1.png)

O jogo usa essas coordenadas em operações críticas — por exemplo, verificar se a nova posição do jogador é água ou terreno intransponível. Todos os jogos 2D usam coordenadas assim, seja top-down ou side-scroll:

![Coordenadas 2D](/assets/images/5/1/supertux.png)

# Espaço 3D

No Wesnoth, dois jogadores nunca podem ocupar as mesmas coordenadas (o jogo não saberia qual desenhar). Mas em jogos 3D, dois jogadores podem ter os mesmos X e Y, pois existe uma terceira dimensão: **Z** (profundidade).

![Coordenadas 3D](/assets/images/5/1/urbanterror.jpg)

Na imagem, os dois jogadores estão no centro da tela com os mesmos valores de X e Y. Em 2D seriam `(5,5,5)` e `(5,5,10)` em espaço 3D.

# Coordenadas Cartesianas

Podemos visualizar as coordenadas em gráficos. Para 2D:

![Gráfico de Pontos 2D](/assets/images/5/1/2dgraph.png)

Com isso, podemos usar geometria simples. Para calcular a **distância entre dois pontos**, criamos um triângulo retângulo e aplicamos o Teorema de Pitágoras. A hipotenusa desse triângulo é a distância entre os dois pontos:

![Gráfico de Pontos 2D](/assets/images/5/1/2dgraph2.png)

Em 3D, adicionamos mais um eixo ao gráfico:

![Gráfico 3D](/assets/images/5/1/3dgraph.png)

Mesmo com X e Y idênticos, os dois jogadores existem em posições diferentes em Z.

# Viewports (Câmera)

Monitores exibem imagens 2D. Para renderizar um mundo 3D, o jogo precisa "fotografar" a cena 3D e converter para 2D — como tirar uma foto. Essa conversão é geralmente chamada de **WorldToScreen**.

O jogo escolhe um ponto de vista (**viewport**) — geralmente a câmera do jogador — e calcula a profundidade de cada objeto. Objetos mais distantes são desenhados atrás de objetos mais próximos:

![Renderização 3D](/assets/images/5/1/urbanterror2.jpg)

Na cena acima, o jogo desenha primeiro o prédio ao fundo, depois as árvores por cima — criando a ilusão de profundidade.

# Movimento em 3D

Operações no espaço 3D são computacionalmente caras. Para otimizar, muitos jogos usam um atalho:

> **O jogador fica fixo na origem `(0,0,0)` e o mundo inteiro se move ao redor dele.**

Assim, calcular distâncias e ângulos para qualquer objeto é simples — basta ler as coordenadas do objeto. Quando você pressiona "andar para frente", o jogo não move o jogador para frente — ele move o mundo todo na direção contrária.

Nem todos os jogos funcionam assim, mas vários clássicos de FPS usam esse modelo. Isso é importante para entender como hacks como wallhacks e aimbots funcionam.

&nbsp;